{% extends 'base/base.html' %}

{% block title %}Product Detail - Wireless Headphones{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">

        <!-- Sidebar -->
        <aside class="hidden md:block lg:col-span-1 bg-white p-6 rounded-lg shadow-md h-fit sticky top-16">
            <h2 class="text-xl font-bold mb-4">Categories</h2>
            <ul class="space-y-2">
                {% for category in categories %}
                    <li>
                        <a href="#" class="hover:text-blue-600">{{ category.name }}</a>
                    </li>
                {% empty %}
                    <li class="text-gray-500">No categories available</li>
                {% endfor %}
            </ul>
        </aside>
        
      <!-- Product List Section -->
<section class="col-span-1 lg:col-span-3 bg-white p-6 rounded-lg shadow-md">
    <h1 class="text-2xl font-bold mb-4">Product List</h1>

    {% for product in products %}
        <div class="border p-4 rounded-lg shadow-md mb-4">
            <!-- Product Name -->
            <h2 class="text-xl font-bold">{{ product.name }}</h2>

            <!-- Product Image -->
            <div class="flex justify-center">
                {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}" class="w-full max-w-sm rounded-lg">
                {% else %}
                    <img src="https://via.placeholder.com/400" alt="No Image Available" class="w-full max-w-sm rounded-lg">
                {% endif %}
            </div>

            <!-- Price Section -->
            <div class="mt-4">
                <p class="text-lg font-semibold">${{ product.price }}</p>
                {% if product.discounted_price %}
                    <del class="text-gray-500">${{ product.original_price }}</del>
                    <span class="text-green-600 ml-2">
                        {{ product.discount_percentage }}% OFF
                    </span>
                {% endif %}
            </div>

            <!-- Action Buttons -->
            <div class="flex flex-wrap gap-4 mt-4">
                <button class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full sm:w-auto">
                    Add to Cart
                </button>
                <button class="bg-gray-200 hover:bg-gray-300 text-gray-600 font-bold py-2 px-4 rounded w-full sm:w-auto">
                    Save for Later
                </button>
            </div>
        </div>
    {% empty %}
        <p class="text-gray-500">No products available.</p>
    {% endfor %}
</section>

            <div class="mt-4 text-gray-600 space-y-2">
                <p>âœ… In stock</p>
                <p>ðŸšš Free shipping</p>
                <p>ðŸ›¡ 1-year warranty</p>
            </div>
        </section>
    </div>
</div>

<script>
    function increaseQuantity() {
        const quantityInput = document.getElementById('quantity');
        quantityInput.value = parseInt(quantityInput.value) + 1;
    }

    function decreaseQuantity() {
        const quantityInput = document.getElementById('quantity');
        if (parseInt(quantityInput.value) > 1) {
            quantityInput.value = parseInt(quantityInput.value) - 1;
        }
    }
</script>
{% endblock %}
